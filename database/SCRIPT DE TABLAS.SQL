DROP TABLE  IF EXISTS DETALLE_PED;
DROP TABLE IF EXISTS PEDIDO;
DROP TABLE IF EXISTS PROVEEDOR;
DROP TABLE IF EXISTS CLIENTE;
DROP TABLE IF EXISTS PRODUCTO;
DROP TABLE IF EXISTS CATEGORIA;



CREATE TABLE CATEGORIA(
    ID INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
    NOMBRE VARCHAR(40),
   ACTIVO CHAR(1)



);

CREATE TABLE PRODUCTO(
    ID INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
    NOMBRE VARCHAR(40),
   MARCA VARCHAR(40),
    ULTIMO_COSTO DECIMAL(10,2),
    EXISTENCIA INTEGER,
    ACTIVO CHAR(1),
   CATEGORIA_ID INTEGER NOT NULL,
   CONSTRAINT FK_CAT FOREIGN KEY (CATEGORIA_ID) REFERENCES CATEGORIA(ID) 
                                                          ON UPDATE NO ACTION ON DELETE RESTRICT


);

CREATE TABLE CLIENTE(
  ID INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
  RIF_CI VARCHAR(12) NOT NULL UNIQUE,
  NOMBRE_RAZON VARCHAR(50) NOT NULL,
  TELEFONO VARCHAR(20),
  ACTIVO CHAR(1)

);

CREATE TABLE PROVEEDOR(
  ID INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
  RIF_CI VARCHAR(12) NOT NULL UNIQUE,
  NOMBRE_RAZON VARCHAR(50) NOT NULL,
  TELEFONO VARCHAR(20),
  ACTIVO CHAR(1)

);

CREATE TABLE PEDIDO(
    ID INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
    FECHA_PEDIDO DATE,
    CLIENTE_ID INTEGER NOT NULL,
    ESTATUS_PEDIDO CHAR(1),
    ACTIVO CHAR(1),
    CONSTRAINT FK_CLI FOREIGN KEY (CLIENTE_ID) REFERENCES CLIENTE(ID) 
                             ON DELETE RESTRICT ON UPDATE NO ACTION

);

CREATE TABLE DETALLE_PED(
     ID INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT,
     PRODUCTO_ID INTEGER NOT NULL,
     CANTIDAD INTEGER DEFAULT 0,
     PRECIO  DECIMAL(10,2),
	 ACTIVO CHAR(1),
	 CONSTRAINT FK_PRO1 FOREIGN KEY (PRODUCTO_ID) REFERENCES PRODUCTO(ID)
							ON DELETE RESTRICT ON UPDATE NO ACTION
);